# CalorieTrack (DB_project)

## Краткое описание
Тема контроля за потребляемыми калориями, особенно в контексте того, что человек склонен питаться нездоровой пищей, становится все более актуальной с каждым годом. Все больше людей начинают обращать внимание на то, что они едят, и стремятся следить за своим пищевым рационом. Данный продукт объединяет людей любого пола, возраста и профессии. Есть опытные люди, которые уже находятся на этом пути здорового образа жизни и готовы поделиться своими знаниями, историями и полезными советами. Есть также новички, которые только начинают изучать эту тему и хотели бы получить информацию о калорийном контроле от других людей, а также узнать о способах готовки пищи и выборе правильных продуктов.

Продукт"CalorieTrack", основан для людей, которые планируют вести подсчет потребляемых калорий за сутки и делиться своими достижениями с другими пользователями. Также в данном приложении подразумевается рекомендательная система, которая будет предлагать рацион питания в зависимости от выбранной цели пользователем.


## Основные моменты
<details>
  <summary>Концепция продукта и основные функции</summary>
  
  Приложение создается для людей, увлеченных темой подсчета калорий и ведения здорового образа жизни - от новичков, которые только собираются начать путь в отслеживании потребляемых калорий, до профи, которые уже находятся давно в теме правильного питания. Данный продукт будет закрывать несколько потребностей людей:

  1. Поделиться собственным опытом с другими людьми.
  2. Показать свои достижения связанные с тематикой правильного питания.
  3. Просмотр рецептов, которые будут показаны в зависимости от выбранной цели человека.

  Концепция предлагает три основных принципиально различающихся вида взаимодействия с продуктом. Первый - размещение информации (публикация постов), второй - просмотр информации, размещенной другими пользователями и третий - подсчет потребляемых калорий и просмотр рекомендательных рецептов.

  Основные функции, реализуемые в продукте:

  1. Создание собственного профиля
  2. Публикация поста от своего имени
  3. Поиск размещенных постов по конкретным фильтрам
  4. Ввод потребляемых продуктов за сутки
  5. Просмотр статистики за сутки
  6. Добавление/удаление конкретных блюд в категорию "избранное"
  7. Изменение информации о пользователе
  
</details>

<details>
  <summary>Рамки проекта</summary>
  
  Must do:
  1. Регистрация пользователя
  2. Сброс пароля
  3. Добавление блюд для конкретного приема пищи
  4. Добавлени/удаление продукта из категории "избранное"
  5. Изменение информации о пользователе
  6. Удаление аккаунта
  7. Возможность разлогиниться с приложения
  8. Публикация постов
  9. Просмотр постов других пользователей
  
  Should do:
  1. Отмечание поста как понравившегося
  2. Просмотр рекомендательных рецептов
  
</details>


<details>
  <summary> Функциональные требования к продукту </summary>  

1. Продукт должен позволить пользователю зарегистрироваться в системе
   - Пользователь нажимает кнопку "Registration" после чего открывается новое окно с полями для ввода
   - Пользователь заполняет все поля. Все поля кроме поля "Goal" являются обязательными к заполнению
     - Username
     - Password
     - Age
     - Sex
     - Weight
     - Height
     - Goal (Данное поле является необязательным к заполнению)
   - Пользователь нажимает кнопку "Register". После этого все введенные пользователем данные вносятся в БД
  
2. Продукт должен позволить пользователю сбросить пароль
   - Пользователь нажимает на кнопку "Reset password"
   - Вводит имя пользователя, у которого надо сменить пароль
   - Подтверждает личность
   - Вводит новый пароль
   - Нажимает на кнопку "Reset". После этого для данного пользователя обновляется пароль в БД

3. Продукт должен позволить пользователю авторизоваться в приложении
   - Пользователь заполняет два обязательных поля
     - Username
     - Password
   - Пользователь нажимает кнопку "Authorization".
     - Если были введены верные данные, то система авторизовывает пользователя и открывается окно "Diary"
     - Если был введен неверное имя пользователя (username), то система выдает ошибку: "Неверное имя пользователя или пароль" и не авторизовывает пользователя в системе
     - Если был введен неверный пароль (password), то система выдает ошибку: "Неверное имя пользователя или пароль" и не авторизовывает пользователя в системе
     - Если хотя бы одно поле осталось пустым, то система не авторизовывает пользователя в системе и выдает ошибку: "Все поля должны быть заполнены"
  
4. Продукт должен позволить пользователю вести учет потребляемых калорий за сутки
   - Система должна позволить пользователю добавлять продукты к каждому приему пищи
   - Для добавления продукта для конкретного приема пищи пользователь должен:
     - Находиться на экране "Diary"
     - Нажать на кнопку подходящего приема пищи ("Breakfast", "Lunch", "Dinner")
     - Ввести в поисковую строку продукт, который он хочет добавить
     - Выбрать подходящий продукт
     - Нажать на кнопку "Add to diet"
       
   - Система должна позволить пользователю добавить продукт в категорию "избранное"
   - Для добавления продукта в категорию избранное пользователь должен:
     - Находиться на экране "Favourites"
     - Ввести в поисковую строку продукт, который он хочет добавить
     - Выбрать подходящий продукт
     - Нажать на кнопку "Add to favourites"
       
   - Система должна позволить пользователю удалять продукты с категории "избранное"
   - Для удаления продукта из категории избранное пользователь должен:
     - Находиться на экране "Favourites"
     - Нажать на кнопку "favourite list"
     - Выбрать подходящий продукт
     - Нажать на кнопку "Delete"
    
  5. Продукт должен позволить пользователю посмотреть статистику за сутки
     - Система должна позволить пользователю посмотреть статистику по потребленным калориям за сутки
       - Пользователь должен находиться на окне "Reports"
       - Нажимает кнопку "Calories"
       - Открывается страница со статистикой по потребленным калориям за сутки
         - На данной странице должно отображаться среднее кол-во потребленных калорий за 1 прием пищи
         - Кол-во калорий потребленных за конкретный прием пищи.
         - Также должно отображаться процентное кол-во потребленных калорий за конкретный прием пищи
     - Система должна позволить пользователю посмотреть статистику по БЖУ за сутки
     - Пользователь должен находиться на окне "Reports"
       - Нажимает кнопку "Macros"
       - Открывается страница со статистикой по БЖУ за сутки
         - На данной странице должно отображаться среднее кол-во потребленных белков, жиров и углеводов за 1 прием пищи
         - Кол-во потребленных белков, жиров и углеводов за конкретный прием пищи
         - Также должно отображаться процентное кол-во потребленных потребленных белков, жиров и углеводов за конкретный прием пищи
           
  6. Продукт должен позволить пользователю изменять информацию о себе
     - Пользователь находится в разделе "Me"
       - На данной странице отображается вся информация пользователя, которую он вводил в момент регистрации в системе, за исключением пароля
       - Также есть кнопки:
         - "Change account info"
         - "Delete account"
         - "Log out"
     - Пользователь нажимает на кнопку "Change account info"
       - Открывается новое окно, со всей информацией пользователя, которую он вводил в момент регистрации в системе, за исключением пароля
       - Пользователь может изменить любое поле с информацией
         - Все поля кроме поля "Goal" являются обязательными к заполнению
       - Пользователь нажимает на кнопку "Confirm". После этого система обновляет для данного пользователя все измененные поля
  7. Продукт должен позволить пользователю удалить свой аккаунт и разлогиниться в системе
     - Пользователь находится в разделе "Me"
     - Пользователь нажимает на кнопку "Delete account"
       - Система деавторизовывает пользователя 
       - Система удаляет данные пользователя из БД
     - Пользователь нажимает на кнопку "Log out"
       - Система деавторизовывает пользователя
         
       
</details>

## Проектирование базы данных
### Изображение структуры базы данных:

<details>
  <summary>Логическая</summary>
  
  ![](https://github.com/i1uh4/DB_project/blob/main/Структура%20БД.png)
</details>

### Нормальная форма базы данных:

<details>
  <summary>Первая нормальная форма (1NF)</summary>
  
  Чтобы таблица находилась в 1NF, надо чтобы каждый кортеж содержал только одно значение для каждого из атрибутов
  
  - Таблица "account" находится в первой начальной форме, так как выполняется условие
    - В атрибуте 'id' хранится только id аккаунта, который является целым числом
    - В атрибуте 'username' хранится одно целое слово, которое задается пользователем
    - В атрибуте 'password' хранится пароль пользователя, который не содержит в себе пробелов
      
  - Таблица "user" находится в первой начальной форме, так как выполняется условие
    - В атрибуте 'id' хранится только id пользователя, который является целым положительным числом
    - В атрибуте 'account_id' хранится только id аккаунта, который является целым положительным числом
    - В атрибуте 'gender' хранится одно целое слово (female или male), которое пользователь выбирает при регистрации
    - В атрибуте 'age' хранится возраст пользователя, который не содержит в себе пробелов и представляет из себя одно целое положительное число
    - В атрибуте 'weight' хранится вес пользователя, который не содержит в себе пробелов и представляет из себя одно целое положительное число
    - В атрибуте 'height' хранится рост пользователя, который не содержит в себе пробелов и представляет из себя одно целое положительное число
    - В атрибуте 'goal' хранится цель пользователя. Данный атрибут представляет из себя текст, который пользователь может изменить
      
  - Таблица "user_statistic" находится в первой начальной форме, так как выполняется условие
    - В атрибуте 'id' хранится только id полученной статистики, который является целым положительным числом
    - В атрибуте 'user_id' хранится только id пользователя, который является целым положительным числом
    - В атрибуте 'calories_intake' хранится одно целое положительное число
    - В атрибуте 'fats_intake' хранится одно целое положительное число
    - В атрибуте 'carbohydrates_intake' хранится одно целое положительное число
    - В атрибуте 'kilocalories_intake' хранится одно целое положительное число
    - В атрибуте 'weight_loss' хранится одно целое положительное число
    - В атрибуте 'date' хранится дата полученной статистики
      
  - Таблица "favourite" находится в первой начальной форме, так как выполняется условие
    - В атрибуте 'id' хранится одно целое положительное число
    - В атрибуте 'user_id' хранится только id пользователя, который является целым числом
    - В атрибуте 'product_id' хранится одно целое положительное число являющееся id продукта
      
  - Таблица "product" находится в первой начальной форме, так как выполняется условие
    - В атрибуте 'id' хранится только id продукта, который является целым числом
    - В атрибуте 'name' хранится одно слово - название продукта
    - В атрибуте 'proteins' хранится одно целое положительное число - количество белков в данном продукте
    - В атрибуте 'fats' хранится одно целое положительное число - количество жиров в данном продукте
    - В атрибуте 'carbohydrates' хранится одно целое положительное число - количество углеводов в данном продукте
    - В атрибуте 'kilocalories' хранится одно целое положительное число - количество килокалорий в данном продукте
      
  - Таблица "meal" находится в первой начальной форме, так как выполняется условие
    - В атрибуте 'id' хранится только id приема пищи, который является целым числом
    - В атрибуте 'user_id' хранится только id пользователя, который является целым числом
    - В атрибуте 'meal_type' хранится одно слово - название приема пищи (breakfast, lunch, dinner)
    - В атрибуте 'date' хранится дата конкретного приема пищи
    - В атрибуте 'kilocalories' хранится одно целое положительное число - количество килокалорий за конкретный прием пищи
    - В атрибуте 'proteins' хранится одно целое положительное число - количество белков за конкретный прием пищи
    - В атрибуте 'fats' хранится одно целое положительное число - количество жиров за конкретный прием пищи
    - В атрибуте 'carbohydrates' хранится одно целое положительное число - углеводов килокалорий за конкретный прием пищи  
</details>

<details>
  <summary>Вторая нормальная форма (2NF)</summary>
  Чтобы таблица находилась во второй нормальной форме, надо чтобы таблица находилась в первой нормальной форме и все неключевые столбцы таблицы зависели от полного первичного ключа (в случае если он составной)

  В каждой таблице нашей базы данных существует не составной первичный ключ, от которого зависят все столбцы таблицы, поэтому все таблицы базы данных находятся во второй нормальной форме
</details>

<details>
  <summary>Третья нормальная форма (3NF)</summary>
  Чтобы таблица находилась в третьей нормальной форме, надо чтобы таблица находилась во второй нормальной форме и отсутствовали транзитивные зависимости

  В каждой таблице нашей базы данных существует не составной первичный ключ, от которого зависят все столбцы таблицы, поэтому все таблицы базы данных находятся во второй нормальной форме

  В наших таблицах, каждый неключевой столбец зависит только от первичного ключа своей таблицы и никаким образом не связан с другими столбцами таблицы, поэтому таблицы базы данных находятся в третьей нормальной форме.
</details>
